import{_ as F,D as S,G as h,E as f,v as o,b,c as C,F as k,B as g,C as p,w as V,y as n,g as _,p as $,u as B,n as R,d as D,r as E,L as P}from"./main-DrhbCzFc.js";import{k as q}from"./VDialog-B2rLgW2w.js";import{s as w,t as z}from"./VSelectionControl-AuEarV_T.js";import{f as L}from"./forwardRefs-Det35X7C.js";const N={name:"SubmitFooter",components:{ConfirmFooter:q},props:{verb:{type:String,required:!0},table:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["cancel","submit"],computed:{...h(f,{errors:e=>e.form.errors,success:e=>e.form.success}),confirmText(){const e=this.label||this.table;return`${this.verb} ${e}`}},beforeMount(){this.clearErrors()},methods:{...S(f,["clearErrors"])}},T={key:0,class:"errors"},A={key:1,class:"success"},G={key:2};function I(e,s,c,d,a,l){const u=V("ConfirmFooter");return n(),o("footer",null,[b("div",null,[e.errors&&e.errors.length>0?(n(),o("small",T,[(n(!0),o(k,null,g(e.errors,(m,i)=>(n(),o("div",{key:i},p(m),1))),128))])):e.success?(n(),o("small",A,p(e.success),1)):(n(),o("small",G,"Â "))]),C(u,{"confirm-text":l.confirmText,disabled:c.disabled,onConfirm:s[0]||(s[0]=m=>e.$emit("submit")),onCancel:s[1]||(s[1]=m=>e.$emit("cancel"))},null,8,["confirm-text","disabled"])])}const K=F(N,[["render",I],["__scopeId","data-v-d960409d"]]),M=$({...P(),...z()},"VForm"),O=_()({name:"VForm",props:M(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:c,emit:d}=s;const a=w(e),l=E();function u(i){i.preventDefault(),a.reset()}function m(i){const r=i,t=a.validate();r.then=t.then.bind(t),r.catch=t.catch.bind(t),r.finally=t.finally.bind(t),d("submit",r),r.defaultPrevented||t.then(v=>{let{valid:y}=v;y&&l.value?.submit()}),r.preventDefault()}return B(()=>b("form",{ref:l,class:D(["v-form",e.class]),style:R(e.style),novalidate:!0,onReset:u,onSubmit:m},[c.default?.(a)])),L(a,l)}});export{K as S,O as V};
